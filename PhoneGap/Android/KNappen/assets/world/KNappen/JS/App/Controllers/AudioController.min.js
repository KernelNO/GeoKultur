var App,audioController;(function(n){(function(n){var t=function(){function n(){}return n.prototype.Init=function(){this.soundProvider=new System.Providers.AudioProvider;var n=this;$("#audioButtonPause").mousedown(function(){n.pause()}),$("#audioButtonStop").mousedown(function(){n.stop()})},n.prototype.play=function(n,t){var u=this,i,f,r;$("#audioTitle").html(n),i=$("#audioStatusDiv"),f=$("#poiAudioBar"),f.show(),r=$("#audioButtonPlay"),this.buttonDisable(r),r.mousedown(function(){u.play(n,t)}),this.soundProvider.play(t,function(){u.buttonEnable(r)},function(n,t){t&&n?i.html(tr.translate("Loading")+": "+parseInt(t/n*100)+"%"):i.html("")},function(){i.html("")},function(n){var t=moment.duration(n,"milliseconds");i.html(moment(t.asMilliseconds()).format("mm:ss"))},function(n){n?i.html(tr.translate("Buffering...")):i.html("")})},n.prototype.buttonDisable=function(n){n.attr("disabled","disabled").css("color","#cccccc")},n.prototype.buttonEnable=function(n){n.removeAttr("disabled").css("color","")},n.prototype.stop=function(){var n=$("#poiAudioBar");n.hide(),this.soundProvider.stop()},n.prototype.pause=function(){this.soundProvider.pause()},n}();n.AudioController=t})(n.Controllers||(n.Controllers={}));var t=n.Controllers})(App||(App={})),audioController=new App.Controllers.AudioController,startup.addInit(function(){audioController.Init()},"SoundManager")