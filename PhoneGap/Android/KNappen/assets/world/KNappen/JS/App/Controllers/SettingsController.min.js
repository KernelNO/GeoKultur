var App,settingsController;(function(n){(function(n){var t=function(){function n(){this.adminOpenCounter=0}return n.prototype.PreInit=function(){log.debug("SettingsController","PreInit()"),viewController.addSelectEvent(this.onViewChanged)},n.prototype.Init=function(){var n=this;log.debug("SettingsController","Init()"),$("#settingsButtonSave").mousedown(function(){return settings.save(),log.userPopup(tr.translate("SETTINGS"),tr.translate("SETTINGS_SAVED")),!1}),mapStorageProvider.setEnabled(!settings.disableCaching),settings.onPostSave.addHandler(function(){mapStorageProvider.setEnabled(!settings.disableCaching)},"SettingsController"),settings.onPostLoad.addHandler(function(){mapStorageProvider.setEnabled(!settings.disableCaching)},"SettingsController"),$("#btnClearCache").mousedown(function(){return $.each(config.mapCacheTileLimit,function(n){mapStorageProvider.clear(n)}),log.userPopup(tr.translate("Cache"),tr.translate("Cache cleared")),!1}),$("#logoFrame").mousedown(function(){n.adminOpenCounter++,n.adminOpenCounter==10&&($("#adminSettingsDiv").show(),viewController.selectView("settingsView"))}),viewController.addSelectEvent(function(t,i,r){i&&r&&i.name!=r.name&&(n.adminOpenCounter=0)})},n.prototype.onViewChanged=function(n,t){t&&t.name=="settingsView"&&log.debug("SettingsController","Entered settings screen.")},n}();n.SettingsController=t})(n.Controllers||(n.Controllers={}));var t=n.Controllers})(App||(App={})),settingsController=new App.Controllers.SettingsController,startup.addPreInit(function(){settingsController.PreInit()},"SettingsController"),startup.addInit(function(){settingsController.Init()},"SettingsController")